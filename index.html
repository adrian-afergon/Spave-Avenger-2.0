<!DOCTYPE html>
<html>
	<head>
		<title>Space Avenger 2.0</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<script type="text/javascript" src="js/class/element.js"></script>
		<script type="text/javascript" src="js/class/asteroid.js"></script>
	</head>
	<body>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript">
		
		//Creatting Canvas
		var CANVAS_WIDTH = 800;
		var CANVAS_HEIGHT = 600;

		var canvasElement = $("<canvas width='" + CANVAS_WIDTH + 
                      "' height='" + CANVAS_HEIGHT + "' style='background-color:black;'></canvas>");
		var canvas = canvasElement.get(0).getContext("2d");
		canvasElement.appendTo('body');

		//Creatting Refresh time
		var FPS = 60;
		setInterval(function() {
  			update();
  			draw();
		}, 1000/FPS);


		//Multi-movement
		var keys = {};

		$(document).keydown(function (e) {
   			keys[e.which] = true;
    		starShip.move();
		});

		$(document).keyup(function (e) {
    		delete keys[e.which];
    		starShip.move();
		});

		//This function will be used for move the asteroids and others
		function update() {
  		//	textX += 1;
 		//	textY += 1;
		}

		//This will be used for recreated the canvas
		function draw(){
			canvas.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
			starShip.draw();
		}


		//Object for play
		var starShip = {
  			color: "#00A",
  			x: CANVAS_WIDTH/2,
  			y: CANVAS_HEIGHT/2,
  			width: 32,
  			height: 32,
  			draw: function() {
    			canvas.fillStyle = this.color;
    			canvas.fillRect(this.x, this.y, this.width, this.height);
  			},
  			move: function(){
  				for (var i in keys) {
        		if (!keys.hasOwnProperty(i)) continue;

				if (i == 40){
					starShip.y +=5;
				}
				if (i == 38){
					starShip.y -=5;
				}
				if (i == 37){
					starShip.x -=5;
				}
				if (i == 39){
					starShip.x +=5;
				}
				if (i == 32){
					console.log("Peg Peg");
				}
    		}
  			}
		}

		</script>
	</body>
</html>